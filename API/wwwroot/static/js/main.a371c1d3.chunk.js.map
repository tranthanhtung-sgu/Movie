{"version":3,"sources":["App/Models/pagination.ts","App/api/agent.tsx","App/Store/store.ts","App/Store/movieStore.ts","Component/Common/Loading.tsx","Component/Home/Filter.tsx","Component/Card/CardMovie.tsx","Component/Home/LeftHome.tsx","Component/Home/Home.tsx","Component/Common/NavBar.tsx","Component/Detail/IFrame.tsx","Component/Detail/Detail.tsx","App.tsx","index.tsx"],"names":["PaginatedResult","data","pagination","this","PagingParams","pageNumber","pageSize","sleep","delay","Promise","resolve","setTimeout","axios","defaults","baseURL","process","interceptors","response","use","a","headers","JSON","parse","responseBody","request","url","get","then","agent","Movies","list","params","detail","id","listAll","store","movieStore","movieRegistry","Map","selectedMovie","undefined","loading","loadingInitial","pagingParams","predicate","set","setPagingParams","setPredicate","value","delete","setPagination","loadMovies","axiosParams","result","runInAction","forEach","movie","setMovie","console","log","loadMovie","getMovie","clearSelectedMovie","makeAutoObservable","reaction","keys","clear","Array","from","values","URLSearchParams","append","toString","key","StoreContext","createContext","useStore","useContext","override","css","Loading","content","inverted","color","Filter","className","initialValues","search","onSubmit","setSubmitting","isSubmitting","handleBlur","handleChange","handleSubmit","autoComplete","placeholder","type","name","onChange","onBlur","disabled","observer","str","style","textDecoration","to","category","alt","src","image","title","length","substring","moviesArray","Container","Row","Col","xl","Button","variant","totalItems","map","md","useState","loadingNext","setLoadingNext","size","useEffect","xs","pageStart","loadMore","currentPage","hasMore","totalPages","initialLoad","textAlign","fontSize","marginTop","display","handleChangeCategory","categoryName","history","push","isActive","has","onClick","href","htmlFor","chapUrl","chap","useParams","link","setLink","temp","find","x","parseInt","width","height","position","paddingBottom","allow","left","top","overflow","frameBorder","allowFullScreen","useRouteMatch","window","scrollTo","lg","backgroundImage","time","director","publishYear","description","i","Switch","exact","path","data-href","location","data-width","data-numposts","App","component","Home","render","Detail","createBrowserHistory","ReactDOM","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.a371c1d3.chunk.js","sourcesContent":["export interface Pagination {\n  currentPage: number;\n  itemsPerPage: number;\n  totalItems: number;\n  totalPages: number;\n}\n\nexport class PaginatedResult<T> {\n  data: T;\n  pagination: Pagination;\n\n  constructor(data: T, pagination: Pagination) {\n    this.data = data;\n    this.pagination = pagination;\n  }\n}\n\nexport class PagingParams {\n  pageNumber;\n  pageSize;\n\n  constructor(pageNumber = 1, pageSize = 8) {\n    this.pageNumber = pageNumber;\n    this.pageSize = pageSize;\n  }\n}\n","import axios, { AxiosResponse } from \"axios\";\nimport { Movie } from \"../Models/movie\";\nimport { PaginatedResult } from \"../Models/pagination\";\n\nconst sleep = (delay: number) => {\n  return new Promise((resolve) => {\n    setTimeout(resolve, delay);\n  });\n};\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\n\naxios.interceptors.response.use(async (response) => {\n  await sleep(0);\n  const pagination = response.headers[\"pagination\"];\n  if (pagination) {\n    response.data = new PaginatedResult(response.data, JSON.parse(pagination));\n    return response as AxiosResponse<PaginatedResult<any>>;\n  }\n  return response;\n});\n\nconst responseBody = <T,>(response: AxiosResponse<T>) => response.data;\n\nconst request = {\n  get: <T,>(url: string) => axios.get<T>(url).then(responseBody),\n  post: <T,>(url: string, body: {}) => axios.post<T>(url, body).then(responseBody),\n  put: <T,>(url: string, body: {}) => axios.put<T>(url, body).then(responseBody),\n  del: <T,>(url: string) => axios.delete<T>(url).then(responseBody),\n};\n\nconst Movies = {\n  list: (params: URLSearchParams) => axios.get<PaginatedResult<Movie[]>>(\"/movie\", { params }).then(responseBody),\n  detail: (id: string) => request.get<Movie>(`/movie/${id}`),\n  listAll: () => request.get<Movie[]>(\"/movie/all\"),\n};\n\nconst agent = {\n  Movies,\n};\nexport default agent;\n","import { createContext, useContext } from \"react\";\nimport MovieStore from \"./movieStore\";\n\ninterface Store {\n  movieStore: MovieStore;\n}\n\nexport const store: Store = {\n  movieStore: new MovieStore(),\n};\n\nexport const StoreContext = createContext(store);\n\nexport function useStore() {\n  return useContext(StoreContext);\n}\n","import { makeAutoObservable, reaction, runInAction } from \"mobx\";\nimport agent from \"../api/agent\";\nimport { Movie } from \"../Models/movie\";\nimport { Pagination, PagingParams } from \"../Models/pagination\";\n\nexport default class MovieStore {\n  movieRegistry = new Map<string, Movie>();\n  selectedMovie: Movie | undefined = undefined;\n  loading = false;\n  loadingInitial = true;\n  pagination: Pagination | null = null;\n  pagingParams = new PagingParams();\n  predicate = new Map().set(\"category\", \"all\");\n\n  get moviesArray() {\n    return Array.from(this.movieRegistry.values());\n  }\n\n  constructor() {\n    makeAutoObservable(this);\n    reaction(\n      () => this.predicate.keys(),\n      () => {\n        this.pagingParams = new PagingParams();\n        this.movieRegistry.clear();\n        this.loadMovies();\n      }\n    );\n  }\n  setPagingParams = (pagingParams: PagingParams) => {\n    this.pagingParams = pagingParams;\n  };\n  get axiosParams() {\n    const params = new URLSearchParams();\n    params.append(\"pageNumber\", this.pagingParams.pageNumber.toString());\n    params.append(\"pageSize\", this.pagingParams.pageSize.toString());\n    this.predicate.forEach((value, key) => {\n      params.append(key, value);\n    });\n    return params;\n  }\n\n  setPredicate = (predicate: string, value: string) => {\n    // const resetPredicate = () => {\n    //   this.predicate.forEach((value, key) => {\n    //     this.predicate.delete(key);\n    //   });\n    // };\n    switch (predicate) {\n      case \"category\":\n        this.predicate.delete(\"title\");\n        this.predicate.delete(\"category\");\n        this.predicate.set(\"category\", value);\n        break;\n      case \"title\":\n        this.predicate.delete(\"title\");\n        this.predicate.delete(\"category\");\n        this.predicate.set(\"title\", value);\n    }\n  };\n\n  setPagination = (pagination: Pagination) => {\n    this.pagination = pagination;\n  };\n\n  loadMovies = async () => {\n    this.loadingInitial = true;\n    try {\n      const result = await agent.Movies.list(this.axiosParams);\n      runInAction(() => {\n        result.data.forEach((movie) => {\n          this.setMovie(movie);\n        });\n        this.setPagination(result.pagination);\n        this.loadingInitial = false;\n      });\n    } catch (error) {\n      console.log(error);\n      runInAction(() => {\n        this.loadingInitial = false;\n      });\n    }\n  };\n\n  loadMovie = async (id: string) => {\n    let movie = this.getMovie(id);\n    if (movie) {\n      this.selectedMovie = movie;\n      return movie;\n    } else {\n      this.loadingInitial = true;\n      try {\n        movie = await agent.Movies.detail(id);\n        this.setMovie(movie);\n        runInAction(() => {\n          this.selectedMovie = movie;\n          this.loadingInitial = false;\n        });\n        return movie;\n      } catch (error) {\n        console.log(error);\n        runInAction(() => {\n          this.loadingInitial = false;\n        });\n      }\n    }\n  };\n\n  private getMovie(id: string) {\n    return this.movieRegistry.get(id);\n  }\n\n  setMovie(movie: Movie) {\n    this.movieRegistry.set(movie.id, movie);\n  }\n\n\n  clearSelectedMovie = () => {\n    this.selectedMovie = undefined;\n  };\n}\n","import { css } from \"@emotion/react\";\nimport FadeLoader from \"react-spinners/FadeLoader\";\ninterface Props {\n  inverted?: boolean;\n  content?: string;\n}\n\nconst override = css`\n  display: block;\n  margin: 0 auto;\n  border-color: \"yellow\";\n`;\n\nexport default function Loading({ content = \"Loading...\", inverted = true }: Props) {\n  return <FadeLoader css={override} color=\"#f1b722\" />;\n}\n","import { Formik } from \"formik\";\nimport React from \"react\";\nimport { useStore } from \"../../App/Store/store\";\n\nexport default function Filter() {\n  const {\n    movieStore: { setPredicate, loadMovies},\n  } = useStore();\n  // const [moviesFilted, setMoviesFilted] = useState([]);\n\n  function Search(value: string) {\n    setPredicate(\"title\", value);\n    loadMovies().then(() => {});\n  }\n\n\n  return (\n    <div className=\"filter__container\">\n      <div className=\"filter__bar\">\n        <Formik\n          initialValues={{ search: \"\" }}\n          onSubmit={(values, { setSubmitting }) => {\n            Search(values.search);\n            // setSubmitting(false);\n          }}\n        >\n          {({ values, isSubmitting, handleBlur, handleChange, handleSubmit }) => (\n            <form className=\"filter__form\" onSubmit={handleSubmit} autoComplete=\"off\">\n              <input\n                className=\"filter__input\"\n                placeholder=\"Tìm kiếm\"\n                type=\"text\"\n                name=\"search\"\n                onChange={handleChange}\n                onBlur={handleBlur}\n                value={values.search}\n              />\n              <button className=\"filter__btn\" type=\"submit\" disabled={isSubmitting}>\n                Tìm\n              </button>\n            </form>\n          )}\n        </Formik>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable jsx-a11y/img-redundant-alt */\n/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable jsx-a11y/anchor-has-content */\nimport { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Movie } from \"../../App/Models/movie\";\nimport { Link } from \"react-router-dom\";\n\ninterface Props {\n  movie: Movie;\n}\nfunction truncate(str: string) {\n  return str.length > 40 ? str.substring(0, 35) + \"...\" : str;\n}\nexport default observer(function CardMovie({ movie }: Props) {\n  return (\n    <div className=\"movie-item\">\n      <Link\n        style={{ textDecoration: \"none\" }}\n        to={movie.category === \"phim bo\" ? `/phim/${movie.id}/chap/1` : `/phim/${movie.id}/chap/0`}\n      >\n        <img className=\"movie-item__img\" alt=\"img\" src={movie.image} />\n      </Link>\n      <Link style={{ textDecoration: \"none\" }} to={`/phim/${movie.id}`}>\n        <div className=\"movie-item__title\">{truncate(movie.title)}</div>\n      </Link>\n    </div>\n  );\n});\n","import { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Button, Col, Container, Row } from \"react-bootstrap\";\nimport { useStore } from \"../../App/Store/store\";\nimport CardMovie from \"../Card/CardMovie\";\n\nexport default observer(function LeftHome() {\n  const {\n    movieStore: { moviesArray, pagination },\n  } = useStore();\n\n  return (\n    <Container>\n      <Row className=\"row-filter\">\n        <Col xl={6}>\n          <h1 className=\"title\">Phim mới</h1>\n        </Col>\n        <Col xl={6} className=\"m-auto\">\n          <Button variant=\"light ml-2 btn-filter-film active\">Tất cả phim ({pagination!.totalItems})</Button>\n          <Button variant=\"dark ml-2 btn-filter-film\">Sắp chiếu</Button>\n          <Button variant=\"dark ml-2 btn-filter-film\">Phim mới</Button>\n        </Col>\n      </Row>\n      <Row className=\"cards-film mt-3\">\n        {moviesArray.map((movie) => (\n          <Col key={movie.id} md={3}>\n            <CardMovie movie={movie} />\n          </Col>\n        ))}\n      </Row>\n    </Container>\n  );\n});\n","/* eslint-disable jsx-a11y/iframe-has-title */\nimport { observer } from \"mobx-react-lite\";\nimport React, { useEffect, useState } from \"react\";\nimport { Col, Row } from \"react-bootstrap\";\nimport InfiniteScroll from \"react-infinite-scroller\";\nimport { PagingParams } from \"../../App/Models/pagination\";\nimport { useStore } from \"../../App/Store/store\";\nimport Loading from \"../Common/Loading\";\nimport Filter from \"./Filter\";\nimport \"./Home.css\";\nimport LeftHome from \"./LeftHome\";\n\nexport default observer(function Home() {\n  const {\n    movieStore: { movieRegistry, loadMovies, loadingInitial, setPagingParams, pagination },\n  } = useStore();\n\n  const [loadingNext, setLoadingNext] = useState(false);\n  console.log(pagination);\n  console.log(movieRegistry.size);\n\n  function handleGetNext() {\n    setLoadingNext(true);\n    setPagingParams(new PagingParams(pagination!.currentPage + 1));\n    loadMovies().then(() => setLoadingNext(false));\n  }\n\n  useEffect(() => {\n    console.log(123);\n    if (movieRegistry.size <= 1) {\n      \n      loadMovies();\n    }\n  }, [movieRegistry.size, loadMovies]);\n  if ((loadingInitial && !loadingNext) || pagination === null) return null;\n  return (\n    <div className=\"container\">\n      <Filter />\n      <Row className=\"\">\n        <Col xs={9} className=\"left-side\">\n          <InfiniteScroll\n            pageStart={0}\n            loadMore={handleGetNext}\n            hasMore={!loadingNext && !!pagination && pagination.currentPage < pagination.totalPages}\n            initialLoad={false}\n          >\n            <LeftHome />\n          </InfiniteScroll>\n          <div\n            style={{\n              textAlign: \"center\",\n              color: \"#fff\",\n              fontSize: 50,\n              marginTop: -10,\n              display: pagination!.currentPage === pagination!.totalPages ? \"none\" : \"block\",\n            }}\n          >\n            <Loading />\n          </div>\n        </Col>\n        <Col xs={3} className=\"hint-1\">\n          3 of 3\n        </Col>\n      </Row>\n    </div>\n  );\n});\n","/* eslint-disable jsx-a11y/anchor-has-content */\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { history } from \"../..\";\nimport { useStore } from \"../../App/Store/store\";\nimport \"./NavBar.css\";\nexport default observer(function NavBar() {\n  const {\n    movieStore: { setPredicate, loadMovies, predicate },\n  } = useStore();\n  function handleChangeCategory(categoryName: string) {\n    setPredicate(\"category\", categoryName);\n    loadMovies().then(() => {});\n    history.push(\"/\");\n  }\n\n  function isActive(type: string) {\n    if (predicate.has(\"category\")) {\n      if (type === predicate.get(\"category\")) {\n        return true;\n      }\n      return false;\n    }\n  }\n\n  return (\n    <nav>\n      <input id=\"nav-toggle\" type=\"checkbox\" />\n      <Link to=\"/\">\n        <div onClick={() => handleChangeCategory(\"all\")} className=\"logo\">\n          Thanh <strong>&#8287;Tùng</strong>\n        </div>\n      </Link>\n      <ul className=\"links\">\n        <li>\n          <a\n            style={{ color: isActive(\"phim bo\") ? \"#f1b722\" : \"#fff\" }}\n            onClick={() => handleChangeCategory(\"phim bo\")}\n          >\n            Phim bộ\n          </a>\n        </li>\n        <li>\n          <a\n            style={{ color: isActive(\"phim rap\") ? \"#f1b722\" : \"#fff\" }}\n            onClick={() => handleChangeCategory(\"phim rap\")}\n          >\n            Phim chiếu rạp\n          </a>\n        </li>\n        <li>\n          <a href=\"#phimviet\">Phim Việt Nam</a>\n        </li>\n        <li>\n          <a\n            style={{ color: isActive(\"phim le\") ? \"#f1b722\" : \"#fff\" }}\n            onClick={() => handleChangeCategory(\"phim le\")}\n          >\n            Phim lẻ\n          </a>\n        </li>\n        <li>\n          <a href=\"#phimhoathinh\">Phim hoạt hình</a>\n        </li>\n      </ul>\n      <label htmlFor=\"nav-toggle\" className=\"icon-burger\">\n        <div className=\"line\"></div>\n        <div className=\"line\"></div>\n        <div className=\"line\"></div>\n      </label>\n    </nav>\n  );\n});\n","/* eslint-disable jsx-a11y/iframe-has-title */\nimport { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { Row } from \"react-bootstrap\";\nimport { useParams } from \"react-router\";\nimport { ChapUrl } from \"../../App/Models/chapUrl\";\n\ninterface Props {\n  chapUrl: ChapUrl[];\n}\n\nexport default observer(function IFrame({ chapUrl }: Props) {\n  const { chap } = useParams<{ chap: string }>();\n  const [link, setLink] = useState(\"\");\n  useEffect(() => {\n    const temp = chapUrl!.find((x) => x.chap === parseInt(chap));\n    if (chap === \"0\" || temp === undefined) {\n      setLink(chapUrl[0].url);\n    }\n    if (temp && temp!.chap !== 0) {\n      setLink(temp.url);\n    }\n    return () => {};\n  }, [setLink, chapUrl, chap]);\n  return (\n    <Row>\n      <div\n        className=\"iframe__container\"\n        style={{ width: \"100%\", height: 0, position: \"relative\", paddingBottom: \"56.250%\", marginTop: 40 }}\n      >\n        <iframe\n          allow=\"autoplay\"\n          src={`${link}`}\n          style={{ width: \"100%\", height: \"100%\", position: \"absolute\", left: 0, top: 0, overflow: \"hidden\" }}\n          frameBorder={0}\n          allowFullScreen={true}\n        ></iframe>\n      </div>\n    </Row>\n  );\n});\n","/* eslint-disable jsx-a11y/iframe-has-title */\nimport { observer } from \"mobx-react-lite\";\nimport React, { useEffect } from \"react\";\nimport { Col, Container, Row } from \"react-bootstrap\";\nimport Switch from \"react-bootstrap/esm/Switch\";\nimport { Route, useParams, useRouteMatch } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { useStore } from \"../../App/Store/store\";\nimport \"./Detail.css\";\nimport IFrame from \"./IFrame\";\n\nexport default observer(function Detail() {\n  const {\n    movieStore: { loadMovie, clearSelectedMovie, selectedMovie: movie },\n  } = useStore();\n  const { id } = useParams<{ id: string }>();\n  let { url } = useRouteMatch();\n\n  useEffect(() => {\n    if (id) loadMovie(id);\n    window.scrollTo(0, 0);\n    return () => {\n      clearSelectedMovie();\n    };\n  }, [id, loadMovie, clearSelectedMovie]);\n  if (!movie) return null;\n  return (\n    <Container className=\"\">\n      <Row className=\"header-content-block  \">\n        <Col lg={5}>\n          <div className=\"movie__image\" style={{ backgroundImage: `url(${movie.image})` }}></div>\n        </Col>\n        <Col lg={7}>\n          <h1 className=\"title__movie\">{movie.title}</h1>\n          <div className=\"info-wrapper\">\n            <div className=\"preview__film\">\n              <div className=\"time\">\n                <h6 className=\"preview__label\">Thời lượng:</h6>\n                <h6 className=\"preview__content\">{movie.time}</h6>\n              </div>\n              <div className=\"director\">\n                <h6 className=\"preview__label\">Đạo diễn:</h6>\n                <h6 className=\"preview__content\">{movie.director}</h6>\n              </div>\n              <div>\n                <i style={{ color: \"yellow\" }} className=\"far fa-clock\"></i> {movie.publishYear}\n              </div>\n            </div>\n            <div className=\"review__film\">\n              <p>{movie.description}</p>\n            </div>\n          </div>\n        </Col>\n      </Row>\n      <div style={{ width: \"100%\", textAlign: \"center\", marginTop: 30 }}>\n        {movie.chapUrl.length !== 0\n          ? movie.chapUrl.map((chap, i) => (\n              <div style={{ display: \"inline-flex\", textAlign: \"center\" }} key={i}>\n                <Link to={`${url}/chap/${i + 1}`}>\n                  <button className=\"btn btn-light m-2\">{i + 1}</button>\n                </Link>\n              </div>\n            ))\n          : \"\"}\n      </div>\n\n      <Switch>\n        <Route exact path={`${url}/chap/:chap`}>\n          <IFrame chapUrl={movie.chapUrl} />\n        </Route>\n        {/* <Route exact path={`${url}`}>\n          <IFrame chapUrl={movie.chapUrl} />\n        </Route> */}\n      </Switch>\n\n      <div className=\"fb-comments\" data-href={window.location.href} data-width=\"700\" data-numposts=\"5\"></div>\n    </Container>\n  );\n});\n","import \"./App.css\";\nimport { Route } from \"react-router\";\nimport Home from \"./Component/Home/Home\";\nimport NavBar from \"./Component/Common/NavBar\";\nimport Detail from \"./Component/Detail/Detail\";\n\nfunction App() {\n  return (\n    <>\n      <NavBar />\n      <Route exact path={\"/\"} component={Home} />\n      <Route\n        path={\"/(.+)\"}\n        render={() => (\n          <>\n            <Route path={\"/phim/:id\"} component={Detail} />\n          </>\n        )}\n      />\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Router } from \"react-router\";\nimport { createBrowserHistory } from \"history\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { store, StoreContext } from \"./App/Store/store\";\n\nexport const history = createBrowserHistory();\n\nReactDOM.render(\n  <StoreContext.Provider value={store}>\n    <Router history={history}>\n      <App />\n    </Router>\n  </StoreContext.Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}